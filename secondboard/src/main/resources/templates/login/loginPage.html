<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap"
        rel="stylesheet">
  <script src="https://kit.fontawesome.com/53a8c415f1.js" crossorigin="anonymous"></script>
  <link href="/css/header-style.css" rel="stylesheet">
  <link rel="stylesheet" href="css/login.css">
</head>
<body>
<div class="container"> <!-- container start -->
  <div class="header">  <!-- Header Start -->
    <h1>
      <img th:src="@{/images/gogoTennisLogo.png}" alt="logo" width="160"
           th:onclick="|location.href='@{/}'|">
    </h1>
    <div class="nav"> <!-- Main Menu Start -->
      <ul>
        <li>
          <a th:onclick="|location.href='@{/match/home}'|">매치</a>
        </li>
        <li>
          <a th:onclick="|location.href='@{/rank/home}'|">랭킹</a>
        </li>
        <li>
          <a th:onclick="|location.href='@{/tournament/home}'|">대회</a>
        </li>
        <li>
          <a th:onclick="|location.href='@{/boards/home}'|">커뮤니티</a>
        </li>
      </ul>
    </div> <!-- Main Menu End -->
    <div class="login-menu"> <!-- login start -->
      <ul>
        <li th:if="${session.loginMember == null}">
          <a th:onclick="|location.href='@{/members/new}'|">회원가입</a>
        </li>
        <li th:if="${session.loginMember == null}">
          <a th:onclick="|location.href='@{/login}'|">로그인</a>
        </li>
        <li th:if="${session.loginMember != null}">
          <a th:href="@{/members/profile/{id} (id=${session.loginMember.id})}">프로필</a>
        </li>
        <li th:if="${session.loginMember != null} and ${session.loginMember.provider.toString() == 'GOGOTENNIS'}">
          <a th:onclick="|location.href='@{/logout}'|">로그아웃</a>
        </li>
        <li th:if="${session.loginMember != null} and ${session.loginMember.provider.toString() == 'KAKAO'}">
          <a href="https://kauth.kakao.com/oauth/logout?client_id=b70b62ddd16773ad4e495c5aa49dc006&logout_redirect_uri=http://localhost:8080/oauth/kakao/logout">로그아웃</a>
        </li>
      </ul>
    </div> <!-- login end -->
  </div><!-- Header End -->

  <div class="wrap">
    <div class="login">
      <h3 class="hit">테니스가 치고 싶을땐</h3>
      <h3 class="hit2">GOGOTENNIS</h3>
      <form class="login-form" role="form" action="/login" method="post" th:object="${loginForm}">

        <!-- 검증 로직-->
        <div th:if="${#fields.hasGlobalErrors()}">
          <p class="field-error" th:each="err : ${#fields.globalErrors()}" th:text="${err}"></p>
        </div>

        </br>

        <div class="login_id">
          <label th:for="loginId"></label>
          <h4>아이디:</h4>
          <input id="login_id" type="text" class="form-control" th:field="${loginForm.loginId}"
                 placeholder="아이디를 입력해주세요."/>
          <div class="field-error" th:errors="${loginForm.loginId}"></div>
        </div>

        <div class="login_pw">
          <label th:for="password"></label>
          <h4>비밀번호:</h4>
          <input id="password" type="password" class="form-control" th:field="${loginForm.password}"
                 placeholder="비밀번호를 입력해주세요."/>
          <div class="field-error" th:errors="${loginForm.password}"></div>
        </div>

        <div class="login_etc">
          <div class="checkbox">
            <input type="checkbox" name="" id=""> ID 저장
          </div>

          <div class="register">
            <a href="/members/new">회원가입</a>
          </div>

          <div class="forgot_pw">
            <a href="#">비밀번호 찾기</a>
          </div>
        </div> <!--login_etc end-->

        <button type="submit" class="submit" id="submit">로그인</button>
      </form>
      <!-- TODO -->
      <a class="p-2" href="https://kauth.kakao.com/oauth/authorize?client_id=b70b62ddd16773ad4e495c5aa49dc006&redirect_uri=http://localhost:8080/oauth/kakao&response_type=code">
        <img th:src="@{/images/kakao_login_medium_narrow.png}">
      </a>
    </div>
  </div> <!--wrap end-->

</div> <!-- container end-->
</body>
</html>